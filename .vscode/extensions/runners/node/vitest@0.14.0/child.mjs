import{initialize,start}from"./shared.mjs";let startMessage,wallabyContext;const messageHandler=async a=>{if("object"!=typeof a)return;if("start"===a.command?startMessage=a:"wallabyStart"===a.command&&(wallabyContext=a),!startMessage||!wallabyContext)return;const t={...wallabyContext,...startMessage};process.off("message",messageHandler),await initialize(t),await start(),await import(t.wallabyContext.childFilePath),process.emit("message",t)};process.on("message",messageHandler);